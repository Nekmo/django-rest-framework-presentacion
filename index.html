
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Construyendo APIs con Django Rest Framework</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/revealjs4/dist/reveal.css" />
    <link rel="stylesheet" href="_static/revealjs4/dist/theme/.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/theme.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&amp;display=swap" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Construyendo APIs con Django Rest Framework" href="README.html" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    
    <style>
      .reveal *, .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
        font-family: 'M PLUS 1p', sans-serif;
      }
      
    </style>
    

  </head><body>
    <div class="reveal">
        <div class="slides">
            <aside class="notes">
Construyendo APIs con Django Rest Framework documentation master file, created by
sphinx-quickstart on Wed Feb 17 01:02:49 2021.
You can adapt this file completely to your liking, but it should at least
contain the root `toctree` directive.</aside>
<aside class="notes">
This toctree is only to link examples.</aside>
<div class="toctree-wrapper compound">
</div>
<section  id="intro">
<h1>Construyendo APIs con <strong>Django Rest Framework</strong></h1>
<img alt="_images/drf_logo.png" src="_images/drf_logo.png" />
<aside class="notes">
Buenas, en esta presentación os mostraré cómo construir vuestra propia API Rest con Django Rest Framework,
aunque antes de eso me presento...</aside>
</section>
<section  id="sobre-mi">
<h2>Sobre mí <strong>Nekmo</strong></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="_images/cara.svg"><img alt="_images/cara.svg" src="_images/cara.svg" width="200px" /></a>
<p><em>Django desde versión 1.1 (2009)</em></p>
</td>
</tr>
</tbody>
</table>
<aside class="notes">
Soy Juan José Oyagüe, más conocido en las redes como Nekmo; y llevo media vida programando en Python,
y usando Django ya desde su versión 1.1. Así que no os puedo engañar...</aside>
</section>
<section  id="django-django-rest-framework">
<h2><strong>Django</strong> + <em>Django Rest Framework</em></h2>
<aside class="notes">
... Me gusta Django, y Django Rest Framework. Y espero conseguir haceros llegar un poco de mi
pasión por estos dos frameworks, y de los motivos por los que llevo usándolos tanto tiempo. Vale, pero
antes de llegar a mí Django Rest Framework, llego a mí...</aside>
</section>
<section>
<section data-background-color="#0c4b33" id="django">
<h2>Django</h2>
<a class="reference internal image-reference" href="_images/django-white-logo.svg"><img alt="_images/django-white-logo.svg" src="_images/django-white-logo.svg" width="100%" /></a>
<aside class="notes">
Django. ¿Y qué es exactamente este framework?</aside>
</section>
<section data-background-color="#0c4b33" id="que-es">
<h3>Qué es</h3>
<ul class="simple">
<li class="fragment"><p><strong>Framework web</strong>.</p></li>
<li class="fragment"><p><strong>Desarrollo rápido</strong> en <strong>Python</strong>.</p></li>
<li class="fragment"><p>Miles de <strong>módulos</strong>.</p></li>
<li class="fragment"><p>Muy <strong>escalable</strong>.</p></li>
<li class="fragment"><p>Gran <strong>soporte</strong>.</p></li>
</ul>
<aside class="notes">
Aquí no me puedo parar mucho, pero en resumen, Django es un framework web para el rápido desarrollo en Python, con
miles de módulos, muy estable y con gran soporte. Seguramente, el más conocido y usado en Python.</aside>
</section>
<section data-background-color="#0c4b33" id="baterias-incluidas">
<h3>Baterías incluidas</h3>
<a class="reference internal image-reference" href="_images/batteries-included.png"><img alt="_images/batteries-included.png" src="_images/batteries-included.png" style="width: 100%;" /></a>
<aside class="notes">
Y al igual que Python, tiene baterías incluidas. Esto significa, que tiene cosas para todo.</aside>
</section>
<section data-background-color="#0c4b33" id="que-incluye">
<h3>Qué incluye</h3>
<ul class="simple">
<li class="fragment"><p><strong>ORM</strong> para base de datos.</p></li>
<li class="fragment"><p>Administración de <strong>sesiones</strong>.</p></li>
<li class="fragment"><p>Control de <strong>permisos</strong></p></li>
<li class="fragment"><p>Gestión de <strong>urls</strong>.</p></li>
<li class="fragment"><p><strong>Middleware</strong>.</p></li>
<li class="fragment"><p><strong>Caché</strong>.</p></li>
<li class="fragment"><p>envío de <strong>correos</strong>...</p></li>
<li class="fragment"><p>Pero <strong>no API Rest</strong>.</p></li>
</ul>
<aside class="notes">
¿Y qué incluye de serie? Pues tendríamos... (leer listado).</aside>
</section>
</section>
<section>
<section  id="django-rest-framework">
<h2>Django Rest Framework</h2>
<img alt="_images/drf_logo.png" src="_images/drf_logo.png" />
<aside class="notes">
¿Recordáis que hemos dicho que tiene módulos para todo? Pues Django Rest Framework es uno de esos módulos.
Se instala en prácticamente en 3 o 4 pasos, y listo para funcionar.</aside>
</section>
<section  id="framework-para-desarrollar-apis-rest">
<h3>Framework para desarrollar <strong>APIs REST*</strong></h3>
<p><code class="docutils literal notranslate"><span class="pre">*</span></code> <strong>API REST:</strong> Arquitectura de software que trabaja con los recursos mediante los operadores HTTP <em>(POST, GET,
PUT, DELETE...)</em>.</p>
<aside class="notes">
¿Y cómo podríamos definir Django Rest Framework? Se trata de un framework para desarrollar APIs REST, una
arquitectura de software en que se trabaja con *recursos* usando los operadores HTTP, tales como POST, GET, PUT
o DELETE.</aside>
</section>
<section  id="operadores-http">
<h3>Operadores HTTP</h3>
<p>Respectivamente: <strong>Crear, obtener, actualizar y eliminar</strong>.</p>
<img alt="_images/http_operators.png" src="_images/http_operators.png" />
<aside class="notes">
Por ejemplo, aquí aquí el operador HTTP POST crea, GET obtiene por el id, PATCH actualiza y DELETE elimina. Django
Rest Framework facilitar crear APIs REST como esta. Pero espera... Hemos dicho que Django Rest Framework es un
framework... ¿Y Django también es un framework?</aside>
</section>
<section data-background-color="#000000" id="meta-framework">
<h3>Meta framework</h3>
<img alt="_images/meta.png" src="_images/meta.png" />
<aside class="notes">
Sí, Django Rest Framework es un framework dentro de otro framework web. Pero aún no saquéis las antorchas.</aside>
</section>
<section data-background-color="#000000" data-transition="convex-in slide-out" id="antorchas">
<h3>Antorchas</h3>
<a class="reference internal image-reference" href="_images/mob-torch.gif"><img alt="_images/mob-torch.gif" src="_images/mob-torch.gif" style="width: 150%;" /></a>
</section>
<section  id="django-rest-framework-complementa">
<h3><strong>Django Rest Framework</strong> <em>complementa</em></h3>
<aside class="notes">
Django Rest Framework aprovecha todo lo bueno de Django, y lo complementa. Si Django es un pastel</aside>
</section>
<section data-background-color="#badeba" data-transition="slide-in fade-out" id="pastel-1">
<h3>Pastel 1</h3>
<img alt="_images/guinda-sin.jpg" src="_images/guinda-sin.jpg" />
<aside class="notes">
Django Rest Framework es su guinda</aside>
</section>
<section data-background-color="#badeba" data-transition="fade" id="pastel-2">
<h3>Pastel 2</h3>
<img alt="_images/guinda.jpg" src="_images/guinda.jpg" />
<aside class="notes">
¿Y nadie quiere una guinda sin pastel, verdad?</aside>
</section>
</section>
<section>
<section data-transition="concave" id="ejemplo-web">
<h2>Ejemplo web</h2>
<img alt="_images/api-web-list.png" src="_images/api-web-list.png" />
<aside class="notes">
Además, nos construye una API REST navegable muy vistosa que nos mostrará el JSON resaltado e indentado de
nuestros objetos.</aside>
</section>
<section data-transition="concave-in slide-out" id="formulario">
<h3>Formulario</h3>
<img alt="_images/api-web-form.png" src="_images/api-web-form.png" />
<aside class="notes">
No sólo eso, sino que nos construye formularios para crear nuevos objetos. Pero estas no son sus únicas
características.</aside>
</section>
</section>
<section  id="caracteristicas">
<h2>Características</h2>
<ul class="simple">
<li class="fragment"><p><strong>Interpretar</strong> y <strong>renderizar</strong> a múltiples formatos.</p></li>
<li class="fragment"><p><strong>Clases genéricas</strong> para facilitar operaciones <strong>CRUD</strong>.</p></li>
<li class="fragment"><p>Potentes <strong>serializers</strong> para trabajar <strong>con o sin</strong> el <strong>ORM</strong>.</p></li>
<li class="fragment"><p><strong>Paginación</strong>, <strong>filtrado</strong>, <strong>búsqueda</strong> y <strong>ordenación</strong> en listados.</p></li>
<li class="fragment"><p>Compatible con los <strong>validadores</strong> y <strong>sistema de permisos</strong> de Django.</p></li>
<li class="fragment"><p>... entre otras opciones.</p></li>
</ul>
<aside class="notes">
(leer puntos). Pero esto no es lo único bueno de Django Rest Framework.</aside>
</section>
<section  id="estructura">
<h2>Estructura</h2>
<img alt="_images/esquema-drf.png" src="_images/esquema-drf.png" />
<aside class="notes">
Si Django Rest Framework me gusta, no es sólo por sus opciones o su modo web, sino porque a diferencia
de otros módulos que hacen lo mismo, entiende perfectamente la filosofía de Django, y ello se ve en su estructura.</aside>
</section>
<section>
<section  id="serializers">
<h2>Serializers</h2>
<p><strong>¿Qué son?</strong></p>
<aside class="notes">
Vale, empecemos por los serializers. ¿Y qué hacen los serializers?</aside>
</section>
<section  id="los-serializers-serializan">
<h3>Los serializers, serializan</h3>
<p><em>Nekmo, 2021.</em></p>
<aside class="notes">
Los serializers, serializan. Nekmo, 2021. Vale, ahora en serio.</aside>
</section>
<section data-transition="fade-in zoom-out" id="interpretar-la-entrada">
<h3>Interpretar la entrada</h3>
<pre><code data-trim data-noescape class="json">
{
    &quot;identifier&quot;: &quot;bulbasaur&quot;,
    &quot;color&quot;: 5,
    &quot;gender_rate&quot;: 1,
    &quot;has_gender_differences&quot;: false
}</code></pre>
<aside class="notes">
Los serializers, son los responsables de convertir y validar la entrada de datos, vamos, lo que mete el usuario a
través de la API, en un objeto en Python, que normalmente servirá para crear o actualizar un objeto en la base de
datos. Para ello usaríamos el siguiente serializer.</aside>
</section>
<section data-transition="convex">
<h3>Interpretar la entrada</h3>
<pre><code data-trim data-noescape class="python">
# serializers.py
# --------------
class SpecieSerializer(serializers.HyperlinkedModelSerializer):

    class Meta:
        model = Specie
        exclude = ()</code></pre>
<aside class="notes">
Al provenir de un modelo, Django Rest Framework es capaz de obtener los campos y sus tipos.</aside>
</section>
<section data-transition="convex">
<h3>Interpretar la entrada</h3>
<pre><code data-trim data-noescape class="python">
# models.py
# ---------
class Specie(models.Model):
    identifier = models.CharField(_('Specie identifier'), max_length=50)
    color = models.CharField(max_length=8, choices=COLORS)
    gender_rate = models.SmallIntegerField()
    has_gender_differences = models.BooleanField()</code></pre>
<aside class="notes">
Este sería el modelo usado y del que se obtienen los campos, aunque también es posible definirlos manualmente
en el serializer.</aside>
</section>
<section data-transition="convex">
<h3>Interpretar la entrada</h3>
<pre><code data-trim data-noescape class="python">
# serializers.py
# --------------
class SpecieSerializer(serializers.HyperlinkedModelSerializer):

    identifier = serializers.CharField()
    color = serializers.ChoiceField(choices=COLORS)
    gender_rate = serializers.IntegerField()
    has_gender_differences = serializers.BooleanField(default=False)

    class Meta:
        model = Specie
        exclude = ()</code></pre>
<aside class="notes">
Aunque no es necesario definir los campos de esta forma, puede ser útil para cambiar algún tipo, sus
opciones, etc. También es necesario hacerlo de esta forma si el serializer no proviene de un modelo, y creamos
nuestro propio serializer.</aside>
</section>
<section data-transition="zoom-in fade-out" id="devuelve-la-salida">
<h3>Devuelve la salida</h3>
<img alt="_images/api-web-detail.png" src="_images/api-web-detail.png" />
<aside class="notes">
También hacen lo mismo pero a la inversa: convierten el objeto a una salida compatible, un data, el cual
normalmente será un diccionario el cual el renderer (del que hablaremos luego) transformará en json, xml, o
lo que proceda.</aside>
</section>
</section>
<section>
<section  id="viewsets">
<h2>Viewsets</h2>
<p>Lógica encargada de procesar las peticiones de la API para <strong>trabajar con los objetos</strong> para:</p>
<ul class="simple">
<li class="fragment"><p><strong>Crearlos</strong></p></li>
<li class="fragment"><p><strong>Listarlos</strong></p></li>
<li class="fragment"><p><strong>Actualizarlos</strong></p></li>
<li class="fragment"><p><strong>Obtenerlos</strong></p></li>
<li class="fragment"><p><strong>Eliminarlos</strong>...</p></li>
</ul>
<aside class="notes">
Los viewsets en cambio, son la lógica encargada de devolver tus objetos, a través de la API, (leer puntos):
crearlos, listarlos, etc.</aside>
</section>
<section  id="ejemplo-viewset">
<h3>Ejemplo viewset</h3>
<pre><code data-trim data-noescape class="python">
class SpecieViewSet(viewsets.ViewSet):
    &quot;&quot;&quot;A simple ViewSet for listing or retrieving species.&quot;&quot;&quot;

    def list(self, request):
        queryset = Specie.objects.all()
        serializer = SpecieSerializer(queryset, many=True)
        return Response(serializer.data)

    def retrieve(self, request, pk=None):
        queryset = Specie.objects.all()
        user = get_object_or_404(queryset, pk=pk)
        serializer = SpecieSerializer(user)
        return Response(serializer.data)</code></pre>
<aside class="notes">
Por ejemplo, este viewset ``SpecieViewSet`` tiene las acciones listar y obtener un objeto.</aside>
</section>
<section data-transition="convex-in slide-out">
<h3>Ejemplo viewset</h3>
<pre><code data-trim data-noescape class="python">
class SpecieViewSet(viewsets.ModelViewSet):
    &quot;&quot;&quot;
    This viewset automatically provides `list`, `create`, `retrieve`,
    `update` and `destroy` actions.

    Additionally we also provide an extra `photo` action.
    &quot;&quot;&quot;
    queryset = Specie.objects.select_related('growth_rate', 'shape', 'habitat')
    serializer_class = SimpleSpecieSerializer
    filter_class = SpecieFilter
    ordering_fields = ('identifier', 'generation', 'evolves_from_specie', 'color')
    search_fields = ('identifier', 'generation__identifier', 'shape__identifier')

    &#64;action(detail=True)
    def photo(self, *args, **kwargs):
        obj = self.get_object()
        photo_url = PHOTO_FORMAT_URL.format(**vars(obj))
        return Response(headers={'Location': photo_url},
                        status=status.HTTP_302_FOUND)</code></pre>
<aside class="notes">
Y como esto es algo muy habitual y repetitivo, heredando de ModelViewSet automáticamente tendrá estas acciones y
además las de crear, actualizar y borrar sin necesidad de definirlas. En este ejemplo además ponemos una acción
adicional. Pero vamos a ver más en detalle algunas de las opciones de este viewset...</aside>
</section>
<section  id="filtrado-y-paginacion">
<h3>Filtrado y paginación</h3>
<pre><code data-trim data-noescape class="python">
filter_class = SpecieFilter
ordering_fields = ('identifier', 'generation', 'evolves_from_specie', 'color')
search_fields = ('identifier', 'generation__identifier', 'shape__identifier')</code></pre>
<a class="reference internal image-reference" href="_images/filters_example.png"><img alt="_images/filters_example.png" src="_images/filters_example.png" style="width: 60%;" /></a>
<aside class="notes">
Estas opciones permiten respectivamente, definir los filtros, la ordenación y la búsqueda, las cuales se mostrarán
después en el modo web a modo de ayuda. En estos, es posible usar doble barra baja para acceder a modelos
relacionados. Pero veamos qué hay en la clase SpecieFilter...</aside>
</section>
<section data-transition="convex-in slide-out">
<h3>Filtrado y paginación</h3>
<pre><code data-trim data-noescape class="python">
from django_filters.rest_framework import FilterSet

class SpecieFilter(FilterSet):

    class Meta:
        model = Specie
        fields = {
            'identifier': ['exact', 'icontains'],
            'generation': ['exact', 'in'],
        }</code></pre>
<aside class="notes">
Esta clase en realidad, utiliza una biblioteca externa llamada django-filter. En este ejemplo hay 2 campos por los
que se filtra, identifier y generation, y ambos tienen lookups. Los lookups son opciones que se pueden usar en la
query SQL. Por ejempo icontains permite filtrar por un texto que es contenido por el campo ignorando las mayúsculas.</aside>
</section>
<section  id="parsers-y-renderers">
<h3>Parsers y renderers</h3>
<p>También se encarga de definir:</p>
<ul class="simple">
<li><p>Los <strong>parsers</strong> <em>(leen e convierten la petición)</em> para luego interpretarse y validarse con los <strong>serializers</strong>.</p></li>
<li><p>Los <strong>renderers</strong> <em>(devuelven al usuario la respuesta)</em> a partir del data del <strong>serializer</strong>.</p></li>
</ul>
<p>Algunos <strong>formatos</strong>: <em>json</em> (por defecto), <em>xml</em>, <em>yaml</em>, <em>csv</em>...</p>
<aside class="notes">
Además, el viewset es el encargado de definir los llamados *parsers* que son las formas de leer la
información del usuario para aceptar json, xml, entre otros, y los *renders*, para devolver los datos según el que
desee el usuario.</aside>
</section>
<section data-transition="convex-in slide-out">
<h3>Parsers y renderers</h3>
<img alt="_images/xml_example.png" src="_images/xml_example.png" />
<aside class="notes">
Por ejemplo, en vez de tener como salida del renderer JSON como vimos antes, podemos solicitar que se nos devuelva
XML.</aside>
</section>
<section  id="opciones-por-defecto">
<h3>Opciones por defecto</h3>
<pre><code data-trim data-noescape class="python">
# settings.py
# -----------
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 20,
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.TokenAuthentication',
        'oauth2_provider.contrib.rest_framework.OAuth2Authentication',
    ]
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticated',
    ]
    'DEFAULT_RENDERER_CLASSES': (
        'rest_framework_xml.renderers.XMLRenderer',
    ),
    'DEFAULT_FILTER_BACKENDS': (
        'django_filters.rest_framework.DjangoFilterBackend',
    ),
}</code></pre>
<aside class="notes">
Algunas de las opciones de los viewsets pueden definirse de forma global por defecto para todo el proyecto, como el
caso de los parsers y renderers, que no se definían en el viewset. Las opciones por defecto se definen en el
settings de Django. En este ejemplo, definimos la paginación y su tamaño, las clases para la autenticación, entre
las que se encuentra el de token, los permisos necesarios, los renderers como decíamos, o las clases de filtrado.</aside>
</section>
<section  id="otras-opciones-viewsets">
<h3>Otras opciones viewsets</h3>
<ul class="simple">
<li class="fragment"><p><strong>Caché respuesta</strong>.</p></li>
<li class="fragment"><p><strong>Documentación</strong>.</p></li>
<li class="fragment"><p><strong>Limitar las peticiones</strong> (Throttling).</p></li>
<li class="fragment"><p>... y más.</p></li>
</ul>
<aside class="notes">
Pero los viewsets nos permiten más cosas, caché, documentación, limitar las peticiones y más. Vale, y hasta
aquí la mitad de la presentación.</aside>
</section>
</section>
<section data-background-color="#000000" data-background-image="_static/applause.gif" id="vamos-terminando">
<h2>Vamos terminando</h2>
<aside class="notes">
Lo que queda por suerte ya es más fácil. Pasemos a los routers.</aside>
</section>
<section>
<section  id="routers">
<h2>Routers</h2>
<pre><code data-trim data-noescape class="python">
# routers.py
# ----------

router = DefaultRouter()
router.register(r'pokemon', viewsets.PokemonViewSet)
router.register(r'species', viewsets.SpecieViewSet)
router.register(r'growth_rates', viewsets.GrowthRateViewSet)
router.register(r'shapes', viewsets.ShapeViewSet)
router.register(r'habitats', viewsets.HabitatViewSet)
router.register(r'generations', viewsets.GenerationViewSet)
router.register(r'regions', viewsets.RegionViewSet)</code></pre>
<aside class="notes">
Los *routers* son la parte más sencilla de explicar: se encargan de registrar los viewsets y ponerles un nombre,
para que sea posible acceder a ellos por una url. ¿No es genial acabar con la parte más fácil?</aside>
</section>
<section data-transition="convex-in slide-out" id="urls">
<h3>Urls</h3>
<pre><code data-trim data-noescape class="python">
# urls.py
# -------

urlpatterns = [
    url(r'^', include(router.urls)),
    path('docs/', include_docs_urls(title='Pokédex'))
]</code></pre>
<aside class="notes">
Después sólo queda registrarlos en el ``urls.py`` de Django, igual que con cualquier otra app. Así de fácil.</aside>
</section>
</section>
<section  id="en-resumen">
<h2>En resumen</h2>
<ul class="simple">
<li class="fragment"><p><strong>Serializers</strong>: representan e interpretan los datos.</p></li>
<li class="fragment"><p><strong>Viewsets</strong>: gestionan las peticiones y devuelven la respuesta.</p></li>
<li class="fragment"><p><strong>Routers</strong>: corresponde a las urls que se utilizarán.</p></li>
</ul>
<aside class="notes">
Así pues, en resumen tenemos: serializers que representan e interpretan los datos, viewsets que gestionan las
peticiones, y routers que corresponde a las urls que se utilizarán.</aside>
</section>
<section  id="y-no-podriamos-reducirlo">
<h2>¿Y no podríamos reducirlo?</h2>
<a class="reference internal image-reference" href="_images/esquema-drf.png"><img alt="_images/esquema-drf.png" src="_images/esquema-drf.png" style="width: 100%;" /></a>
<aside class="notes">
Pero claro, alguno pensará... ¡Esas son muchas clases y muchas cosas! ¿No podría estar todo junto? A mí también me
lo pareció al principio. Por ejemplo, ¿por qué no juntar los serializers y los viewsets?</aside>
</section>
<section>
<section  id="heredar-serializers">
<h2>Heredar serializers</h2>
<pre><code data-trim data-noescape class="python">
class SimpleSpecieSerializer(serializers.HyperlinkedModelSerializer):

    class Meta:
        model = Specie
        exclude = ('growth_rate', 'shape', 'habitat', 'generation')


class SpecieSerializer(SimpleSpecieSerializer):

    class Meta(SimpleSpecieSerializer.Meta):
        exclude = ()</code></pre>
<aside class="notes">
El motivo por el que no se puede , es que puedes heredar de tu serializer para crear uno en mas detalle.</aside>
</section>
<section data-transition="convex" id="condicionar-serializer">
<h3>Condicionar serializer</h3>
<pre><code data-trim data-noescape class="python">
class SpecieViewSet(viewsets.ModelViewSet):
    &quot;&quot;&quot;
    This viewset automatically provides `list`, `create`, `retrieve`,
    `update` and `destroy` actions.
    &quot;&quot;&quot;
    queryset = Specie.objects.select_related('growth_rate', 'shape')
    serializer_class = SpecieSerializer

    def get_serializer_class(self):
        if self.action == 'retrieve':
            return DetailPokemonSerializer
        return super().get_serializer_class()</code></pre>
<aside class="notes">
Y devolver un serializer u otro dependiendo de si lo pones en un listado o pides sólo uno, por ejemplo. Así
ahorras datos. ¿No es genial?</aside>
</section>
<section data-transition="convex-in slide-out" id="anidar-serializers">
<h3>Anidar serializers</h3>
<pre><code data-trim data-noescape class="python">
class GrowthRateSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = GrowthRate
        exclude = ()


class SpecieSerializer(SimpleSpecieSerializer):
    growth_rate = GrowthRateSerializer()  # nested serializer

    class Meta(SimpleSpecieSerializer.Meta):
        exclude = ()</code></pre>
<aside class="notes">
Y por si fuera poco, puedes reutilizar tus serializers para usarlos en otros serializers, anidados. Esto es
lo que se llama *nested serializers*</aside>
</section>
</section>
<section  id="otros-modulos">
<h2>Otros módulos</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/sunscrapers/djoser">djoser</a> (Registro y autenticación usuarios).</p></li>
<li><p><a class="reference external" href="https://github.com/jazzband/django-oauth-toolkit">django-oauth-toolkit</a> (OAuth2).</p></li>
<li><p><a class="reference external" href="https://github.com/axnsan12/drf-yasg/">drf-yasg</a> (Swagger).</p></li>
<li><p><a class="reference external" href="https://github.com/alanjds/drf-nested-routers">drf-nested-routers</a> (Routers anidados)</p></li>
<li><p><a class="reference external" href="https://github.com/wq/django-rest-pandas">rest-pandas</a> (Excel, CSV y SVG renderers).</p></li>
<li><p><a class="reference external" href="https://github.com/chibisov/drf-extensions">drf-extensions</a> (extensiones varias).</p></li>
</ul>
<aside class="notes">
La gente de Django Rest Framework ha pensado en muchas de estas cosas, pero por si fuera poco, cuentas con cientos
de módulos de terceros, como por ejemplo (listar ejemplos).</aside>
</section>
<section>
<section data-background-color="#000000" data-background-image="_static/demo.gif" id="demo">
<h2>Demo</h2>
<aside class="notes">
Y ya pasaríamos a verlo en acción. Y vamos a ver un ejemplo con, por ejemplo, ...</aside>
</section>
<section data-background-color="#000000" data-background-image="_static/pikachu.jpg" id="pikachu">
<h3>Pikachu</h3>
<aside class="notes">
Pokémons. Porque, ¿por qué no?</aside>
</section>
</section>
<section>
<section  id="muchas-gracias">
<h2>¡Muchas gracias!</h2>
<p><strong>Referencias</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.djangoproject.com/en/3.1/intro/tutorial01/">Django Tutorial</a>.</p></li>
<li><p><a class="reference external" href="https://www.django-rest-framework.org/tutorial/quickstart/">Django Rest Framework Tutorial</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/nioperas06/awesome-django-rest-framework">Awesome Django Rest Framework</a>.</p></li>
</ul>
<aside class="notes">
Y hasta aquí la presentación. Espero que no se haya alargado de más. Tenéis enlaces a Django, Django Rest
Framework y un listado de módulos geniales para este último.</aside>
</section>
<section data-transition="zoom" id="y-la-presentacion">
<h3>¿Y la presentación?</h3>
<p>Vuelve a verla, prueba la demo y mira el código fuente en:</p>
<p><a class="reference external" href="https://github.com/Nekmo/django-rest-framework-presentacion">github:Nekmo/django-rest-framework-presentacion</a></p>
<aside class="notes">
Además de a la presentación, por si queréis volver a verla.</aside>
</section>
<section  id="contactar">
<h3>Contactar</h3>
<ul class="simple">
<li><p><strong>Sitio web:</strong> <a class="reference external" href="https://nekmo.com">nekmo.com</a></p></li>
<li><p><strong>Email:</strong> <a class="reference external" href="mailto:contacto&#37;&#52;&#48;nekmo&#46;com">contacto<span>&#64;</span>nekmo<span>&#46;</span>com</a></p></li>
<li><p><strong>Twitter:</strong> <a class="reference external" href="https://twitter.com/nekmocom">&#64;nekmocom</a></p></li>
<li><p><strong>Telegram:</strong> <a class="reference external" href="https://t.me/nekmo">&#64;nekmo</a></p></li>
<li><p><strong>Jabber:</strong> <a class="reference external" href="xmpp://nekmo&#64;nekmo.org">nekmo&#64;nekmo.org</a></p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="_images/hispasec-logo.png"><img alt="_images/hispasec-logo.png" src="_images/hispasec-logo.png" style="width: 40%;" /></a>
<aside class="notes">
Finalmente, también tenéis mi sitio web (ejem ejem spam) en esta diapositiva. Y también mi email. Y Twitter.
Aunque apenas escriba en Twitter. Y ante todo, ¡muchas gracias a todos!</aside>
</section>
</section>

        </div>
        <div class="line top"></div>
        <div class="line bottom"></div>
        <div class="line left"></div>
        <div class="line right"></div>
    </div>
    
    <script src="_static/revealjs4/dist/reveal.js"></script>
    
    
      <script src="_static/revealjs4/plugin/notes/notes.js"></script>
      <script src="_static/revealjs4/plugin/highlight/highlight.js"></script>
      
    
    <script>
        var revealjsConfig = new Object();
        Object.assign(revealjsConfig, 
    {
        controls: true,
        progress: true,
        history: true,
        center: true,
        margin: 0.2,        
        transition: "slide",
    }
);
        
        
        
          revealjsConfig.plugins = [
            RevealNotes,RevealHighlight,
          ];
        
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize(revealjsConfig);
    </script>

  </body>
</html>